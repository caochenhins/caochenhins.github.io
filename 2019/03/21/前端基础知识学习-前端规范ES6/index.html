<!DOCTYPE html>



  


<html class="theme-next beep use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















  

<link href="https://cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="es6,">










<meta name="description" content="ES6相关知识学习1. let和const关键字1.1 let关键字作用：与var类似，用于声明一个变量特点 在块作用域内有效，不能重复声明，不会预处理，不存在变量提升应用：循环遍历加监听 123456789101112131415&amp;lt;body&amp;gt;    &amp;lt;button&amp;gt;按钮1&amp;lt;/button&amp;gt;    &amp;lt;button&amp;gt;按钮2&amp;lt;/button&amp;gt;">
<meta name="keywords" content="es6">
<meta property="og:type" content="article">
<meta property="og:title" content="前端基础知识学习----前端规范ES6">
<meta property="og:url" content="https://caochenhins.github.io/2019/03/21/前端基础知识学习-前端规范ES6/index.html">
<meta property="og:site_name" content="曹辰的博客">
<meta property="og:description" content="ES6相关知识学习1. let和const关键字1.1 let关键字作用：与var类似，用于声明一个变量特点 在块作用域内有效，不能重复声明，不会预处理，不存在变量提升应用：循环遍历加监听 123456789101112131415&amp;lt;body&amp;gt;    &amp;lt;button&amp;gt;按钮1&amp;lt;/button&amp;gt;    &amp;lt;button&amp;gt;按钮2&amp;lt;/button&amp;gt;">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://i.imgur.com/V2ZIe5k.png">
<meta property="og:image" content="https://i.imgur.com/wyfPfxT.png">
<meta property="og:updated_time" content="2019-03-21T15:17:15.267Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端基础知识学习----前端规范ES6">
<meta name="twitter:description" content="ES6相关知识学习1. let和const关键字1.1 let关键字作用：与var类似，用于声明一个变量特点 在块作用域内有效，不能重复声明，不会预处理，不存在变量提升应用：循环遍历加监听 123456789101112131415&amp;lt;body&amp;gt;    &amp;lt;button&amp;gt;按钮1&amp;lt;/button&amp;gt;    &amp;lt;button&amp;gt;按钮2&amp;lt;/button&amp;gt;">
<meta name="twitter:image" content="https://i.imgur.com/V2ZIe5k.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Beep',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":6,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://caochenhins.github.io/2019/03/21/前端基础知识学习-前端规范ES6/">



<!-- 文章加密 -->
<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
		if (history.length === 1) {
		    window.opener = null;
		    window.open('', '_self');
		    window.close();
                } else {
                    history.back();
                }
            }
        }
    })();
</script>

<!-- fontawesome5 -->
<link href="/lib/font-awesome/css/fontawesome-all.min.css" rel="stylesheet" type="text/css">

  <title>前端基础知识学习----前端规范ES6 | 曹辰的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <!--<div class="headband">
	<a href="https://github.com/caochenhins" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="/images/headband/forkme_right_red.png" alt="Fork me on GitHub"></a>
    </div>-->

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">曹辰的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">隐士，一枚88年的java程序员，好奇心比较强，目前是一个码农，从事Java方向的研究和开发。-- hins</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa-fw fas fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa-fw fas fa-archive"></i> <br>
            
            文章
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa-fw fas fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa-fw fas fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa-fw fas fa-user"></i> <br>
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fas fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fas fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="far fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>
    
    <!--<a href="https://github.com/caochenhins" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub">
      <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#222; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
	<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
      </svg>
    </a>-->

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://caochenhins.github.io/2019/03/21/前端基础知识学习-前端规范ES6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="曹辰">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/getheadimg.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="曹辰的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">前端基础知识学习----前端规范ES6</h2>
        

        <div class="post-meta">
	  
	  
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="far fa-calendar-plus"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-21T22:44:14+08:00">
                2019-03-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="far fa-file"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <!--<i class="far fa-file-word"></i>-->
		  <i class="fas fa-book-open"></i>
                </span>
                
                  <span class="post-meta-item-text">本文共计 &#58;</span>
                
                <span title="本文共计">
                  10.1k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="far fa-clock"></i>
                </span>
                
                  <span class="post-meta-item-text">阅文耗时 &asymp;</span>
                
                <span title="阅文耗时">
                  43 min
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="ES6相关知识学习"><a href="#ES6相关知识学习" class="headerlink" title="ES6相关知识学习"></a>ES6相关知识学习</h1><h2 id="1-let和const关键字"><a href="#1-let和const关键字" class="headerlink" title="1. let和const关键字"></a>1. let和const关键字</h2><h3 id="1-1-let关键字"><a href="#1-1-let关键字" class="headerlink" title="1.1 let关键字"></a>1.1 let关键字</h3><p>作用：与var类似，用于声明一个变量<br>特点 在块作用域内有效，不能重复声明，不会预处理，不存在变量提升<br>应用：循环遍历加监听</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button&gt;按钮<span class="number">1</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button&gt;按钮2&lt;/</span>button&gt;</span><br><span class="line">    &lt;button&gt;按钮<span class="number">3</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script type="text/</span>javascript<span class="string">"&gt;</span></span><br><span class="line"><span class="string">        let name = 'zhangsan';</span></span><br><span class="line"><span class="string">        let btns = document.getElementsByTagName('button');</span></span><br><span class="line"><span class="string">        for(let i = 0; i&lt;btns.length;i++)&#123;</span></span><br><span class="line"><span class="string">            let btn = btns[i];</span></span><br><span class="line"><span class="string">            btn.onclick = function()&#123;</span></span><br><span class="line"><span class="string">                console.log(i);</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="1-2-const关键字"><a href="#1-2-const关键字" class="headerlink" title="1.2 const关键字"></a>1.2 const关键字</h3><p>作用：定义一个常量。<br>特点：不能被修改，其他特点和let一样，用于保存不变的数据。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> KEY = <span class="string">"Hello"</span>;</span><br></pre></td></tr></table></figure>
<h2 id="2-变量的解构赋值"><a href="#2-变量的解构赋值" class="headerlink" title="2. 变量的解构赋值"></a>2. 变量的解构赋值</h2><ul>
<li>从对象或数组中提取数据，并赋值给变量（多个）。</li>
<li>对象的解构赋值： let {n,a} = {n:’tom’,a: 12};</li>
<li>数组的解构赋值： let{a,b} = {1,’zhangsan’};</li>
<li>变量的解构赋值多用于给多个形参赋值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;<span class="attr">name</span>: <span class="string">'zhangsan'</span>,<span class="attr">age</span>: <span class="number">52</span>&#125;;</span><br><span class="line">    <span class="comment">//let &#123;name&#125; = obj;//对象的结构赋值,只取一个属性值</span></span><br><span class="line">    <span class="comment">//console.log(name);</span></span><br><span class="line">    <span class="keyword">let</span> &#123;name,age&#125; = obj;<span class="comment">//对象的结构赋值</span></span><br><span class="line">    <span class="built_in">console</span>.log(name,age);</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="string">'zhangsan'</span>,<span class="literal">true</span>];</span><br><span class="line">    <span class="comment">//let [a,b] = arr;//a,b可以随便写，代表获取数组中下标为0和1的值。</span></span><br><span class="line">    <span class="keyword">let</span> [,,a,b] = arr<span class="comment">//代表获取下标为2和3的值</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b)</span><br><span class="line">    <span class="comment">//不采用解构赋值</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj.name+<span class="string">"===&gt;"</span>+obj.age);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//给多个形参赋值，采用解构赋值</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">&#123;name,age&#125;</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(obj.name+<span class="string">"===&gt;"</span>+obj.age);</span><br><span class="line">    &#125;</span><br><span class="line">    test1(obj);</span><br><span class="line">    test2(obj);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-模板字符串"><a href="#3-模板字符串" class="headerlink" title="3. 模板字符串"></a>3. 模板字符串</h2><p>简化字符串的拼接，模板字符串必须使用<code></code>包含，注意这个符号不是单引号，是tab键上面的那个键，变化的部分采用${xxx}来定义。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   <span class="comment">//普通的字符串拼接</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;<span class="attr">name</span>: <span class="string">'zhangsan'</span>, <span class="attr">age</span>: <span class="number">56</span>,<span class="attr">sex</span>: <span class="string">'男'</span>&#125;;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">'我的名字是'</span>+obj.name+<span class="string">',性别：'</span>+obj.sex+<span class="string">',我今年'</span>+obj.age+<span class="string">'岁。'</span></span><br><span class="line">    <span class="built_in">console</span>.log(str)</span><br><span class="line">    <span class="comment">//使用模板字符串</span></span><br><span class="line">    <span class="keyword">let</span> str1 = <span class="string">`我的名字是<span class="subst">$&#123;obj.name&#125;</span>,性别：<span class="subst">$&#123;obj.sex&#125;</span>,我今年<span class="subst">$&#123;obj.age&#125;</span>岁。`</span></span><br><span class="line">    <span class="built_in">console</span>.log(str1);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="4-对象的简写方式"><a href="#4-对象的简写方式" class="headerlink" title="4. 对象的简写方式"></a>4. 对象的简写方式</h2><p>省略同名的属性值，省略方法的function，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//普通的写法，对象中的属性值和属性名称一样</span></span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">'zhangsan'</span>;</span><br><span class="line">    <span class="keyword">let</span> age = <span class="number">56</span>;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name:name,</span><br><span class="line">        age: age,</span><br><span class="line">        getName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(obj);</span><br><span class="line">    <span class="built_in">console</span>.log(obj.getName());</span><br><span class="line">    <span class="comment">//ES6的对象简写方式写法</span></span><br><span class="line">    <span class="keyword">let</span> username = <span class="string">'张三'</span>;</span><br><span class="line">    <span class="keyword">let</span> userage = <span class="number">56</span>;</span><br><span class="line">    <span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">        username,<span class="comment">//同名的属性可以省略不写</span></span><br><span class="line">        userage,<span class="comment">//同名的属性可以省略不写</span></span><br><span class="line">        getName()&#123;<span class="comment">//可以省略函数的function</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.username;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(obj1)</span><br><span class="line">    <span class="built_in">console</span>.log(obj1.getName());</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="5-箭头函数"><a href="#5-箭头函数" class="headerlink" title="5. 箭头函数"></a>5. 箭头函数</h2><ul>
<li>箭头函数没有自己的this,箭头函数的this不是调用的时候决定的，而是在定义的时候处在的对象就是它的this。</li>
<li>箭头函数的this看外层是否有函数，如果有，外层函数的this就是内部箭头函数的 this，没有则this是window。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=<span class="string">"btn1"</span>&gt;测试按钮<span class="number">1</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;button id="btn2"&gt;测试按钮1&lt;/</span>button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="keyword">let</span> test1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我是普通函数'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> test2 = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'我是箭头函数'</span>)</span><br><span class="line">    test2();</span><br><span class="line">    <span class="comment">//形参情况</span></span><br><span class="line">    <span class="comment">//1.没有形参的情况下</span></span><br><span class="line">    <span class="keyword">let</span> test3 = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'我是没有形参的箭头函数'</span>);</span><br><span class="line">    test3();</span><br><span class="line">    <span class="comment">//2.只有一个形参的情况下,可以省略()</span></span><br><span class="line">    <span class="keyword">let</span> test4 = <span class="function">(<span class="params">a</span>) =&gt;</span>  <span class="built_in">console</span>.log(<span class="string">'我是有一个形参的箭头函数'</span>+a);</span><br><span class="line">    <span class="keyword">let</span> test5 = <span class="function"><span class="params">a</span> =&gt;</span>  <span class="built_in">console</span>.log(<span class="string">'我是有一个形参的箭头函数'</span>+a);</span><br><span class="line">    test4(<span class="string">'zhangsan'</span>);</span><br><span class="line">    test5(<span class="string">'zhangsan'</span>);</span><br><span class="line">    <span class="comment">//3.两个或者两个以上的形参</span></span><br><span class="line">    <span class="keyword">let</span> test6 = <span class="function">(<span class="params">x,y</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'我是有两个参数的箭头函数'</span>+x+<span class="string">"==="</span>+y);</span><br><span class="line">    test6(<span class="number">45</span>,<span class="number">85</span>);</span><br><span class="line">    <span class="comment">//函数体的情况</span></span><br><span class="line">    <span class="comment">//1.函数体只有一条语句或者表达式的时候，可以省略大括号,会自动返回执行结果。</span></span><br><span class="line">    <span class="keyword">let</span> test7 = <span class="function">(<span class="params">x,y</span>) =&gt;</span> x+y;</span><br><span class="line">    <span class="built_in">console</span>.log(test7(<span class="number">54</span>,<span class="number">54</span>));<span class="comment">//打印结果为108</span></span><br><span class="line">    <span class="comment">//2.函数体不止一条语句或者函数体的情况，不可以省略大括号</span></span><br><span class="line">    <span class="keyword">let</span> test8 = <span class="function">(<span class="params">x,y</span>) =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(x,y);</span><br><span class="line">        <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(test8(<span class="number">54</span>,<span class="number">54</span>));</span><br><span class="line">    <span class="comment">//箭头函数的this,结果为obj</span></span><br><span class="line">    <span class="keyword">let</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>);</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name:<span class="string">'箭头函数'</span>,</span><br><span class="line">        getName()&#123;</span><br><span class="line">            btn1.onclick =<span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.getName();</span><br><span class="line">    <span class="comment">//箭头函数的外面还是箭头函数，this就是window</span></span><br><span class="line">    <span class="keyword">let</span> btn2 = <span class="built_in">document</span>.getElementById(<span class="string">'btn2'</span>);</span><br><span class="line">    <span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">        name:<span class="string">'箭头函数'</span>,</span><br><span class="line">        getName:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            btn2.onclick =<span class="function"><span class="params">()</span> =&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj1.getName();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="6-三点运算符"><a href="#6-三点运算符" class="headerlink" title="6. 三点运算符"></a>6. 三点运算符</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//...运算符只能放在最后，前面可以使用占位符。</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">a,...value</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a)<span class="comment">//输出结果为2</span></span><br><span class="line">        <span class="built_in">console</span>.log(value);</span><br><span class="line">        value.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(item,index);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">2</span>,<span class="number">54</span>,<span class="number">87</span>,<span class="number">76</span>)</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">6</span>];</span><br><span class="line">    <span class="keyword">let</span> arr2 = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">    arr = [<span class="number">1</span>,...arr2,<span class="number">6</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(arr);</span><br><span class="line">    <span class="built_in">console</span>.log(...arr);<span class="comment">//直接遍历arr数组，拿到值。</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出结果为：</p>
<p><img src="https://i.imgur.com/V2ZIe5k.png" alt></p>
<h2 id="7-形参默认值"><a href="#7-形参默认值" class="headerlink" title="7. 形参默认值"></a>7. 形参默认值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   <span class="comment">//定义一个点的坐标的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x = <span class="number">0</span>,y = <span class="number">5</span></span>)</span>&#123;<span class="comment">//使用形参默认值</span></span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> point = <span class="keyword">new</span> Point(<span class="number">23</span>,<span class="number">35</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(point);</span><br><span class="line">    <span class="keyword">let</span> point1 = <span class="keyword">new</span> Point();<span class="comment">//new一个构造函数的时候，如果没有传参数，就使用形参默认值</span></span><br><span class="line">    <span class="built_in">console</span>.log(point1);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出结果为;</p>
<p><img src="https://i.imgur.com/wyfPfxT.png" alt></p>
<h2 id="8-promise对象原理"><a href="#8-promise对象原理" class="headerlink" title="8. promise对象原理"></a>8. promise对象原理</h2><p>Promise对象，代表了未来某个将要发生的事件（通常是一个异步操作）；<br>有了Promise对象。我们可以将异步操作以同步的流程表达出来，避免了层层嵌套的回调函数，在ES6中，Promise是一个构造函数，用来生成promise实例。</p>
<h3 id="8-1-使用步骤："><a href="#8-1-使用步骤：" class="headerlink" title="8.1 使用步骤："></a>8.1 使用步骤：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">   <span class="comment">//创建promise对象</span></span><br><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//初始化promise的状态为pending初始化状态</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1111'</span>)</span><br><span class="line">    <span class="comment">//执行异步操作，通常是发送AJAX请求，或者开启定时器</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'3333'</span>);</span><br><span class="line">        <span class="comment">//根据异步任务的返回结果去修改promise的状态</span></span><br><span class="line">        <span class="comment">//异步任务执行成功,</span></span><br><span class="line">        <span class="comment">//通常异步操作得到的数据是在回调函数中操作，就涉及到如何把数据传到回调函数中，使用形参注入的方式</span></span><br><span class="line">        resolve(<span class="string">'成功的数据'</span>);<span class="comment">//自动修改promise的状态为fullfilled状态，就会调用成功的回调函数</span></span><br><span class="line">        <span class="comment">//reject();//自动修改promise的状态为reject状态</span></span><br><span class="line">    &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'222'</span>);</span><br><span class="line">promise</span><br><span class="line">        .then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;<span class="comment">//成功的回调函数</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'成功的回调函数被调用！！'</span>,data)</span><br><span class="line">        &#125;,(error)=&gt;&#123;<span class="comment">//失败的成功回调函数</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'失败的回调函数被调用！！'</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="8-2-promise的三种状态"><a href="#8-2-promise的三种状态" class="headerlink" title="8.2 promise的三种状态"></a>8.2 promise的三种状态</h3><p>pending:初始化状态，fullfilled:成功状态，rejected:失败状态</p>
<h2 id="9-Symbol属性"><a href="#9-Symbol属性" class="headerlink" title="9. Symbol属性"></a>9. Symbol属性</h2><ul>
<li>ES6中添加一种原始的数据类型symbol（已经存在的原始数据类型有：string，number，boolean,null,underfined,对象）</li>
<li>symbol属性值对应的值是唯一的，解决了命名冲突的问题。</li>
<li>symbol值不能与其他数据进行计算，包括字符串拼接。</li>
<li>for in,for of遍历时不会遍历symbol属性。</li>
</ul>
<p>Symbol 值通过Symbol函数生成。这就是说，对象的属性名现在可以有两种类型，一种是原来就有的字符串，另一种就是新增的 Symbol 类型。凡是属性名属于 Symbol 类型，就都是独一无二的，可以保证不会与其他属性名产生冲突。<br>在对象的内部，使用 Symbol 值定义属性时，Symbol 值必须放在方括号之中。</p>
<h3 id="9-1-使用场景："><a href="#9-1-使用场景：" class="headerlink" title="9.1 使用场景："></a>9.1 使用场景：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="comment">//调用Symbol函数得到symbol值</span></span><br><span class="line">    <span class="keyword">let</span> symbol = <span class="built_in">Symbol</span>();</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        name:<span class="string">'zhangsan'</span>,</span><br><span class="line">        age: <span class="number">56</span></span><br><span class="line">    &#125;;</span><br><span class="line">    obj[symbol] = <span class="string">'hello world'</span>;<span class="comment">//在对象的内部，使用 Symbol 值定义属性时，Symbol 值必须放在方括号之中。</span></span><br><span class="line">    <span class="built_in">console</span>.log(obj);</span><br><span class="line">    <span class="keyword">let</span> symbol1 = <span class="built_in">Symbol</span>(<span class="string">'one'</span>);</span><br><span class="line">    <span class="keyword">let</span> symbol2 = <span class="built_in">Symbol</span>(<span class="string">'two'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(symbol1 == symbol2);<span class="comment">//false</span></span><br><span class="line">    <span class="built_in">console</span>.log(symbol1,symbol2)<span class="comment">//肉眼看见是相同的</span></span><br><span class="line">    <span class="comment">// 定义常量</span></span><br><span class="line">    <span class="keyword">const</span> Person_Key = <span class="built_in">Symbol</span>(<span class="string">'person_key'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="10-iterator接口机制"><a href="#10-iterator接口机制" class="headerlink" title="10. iterator接口机制"></a>10. iterator接口机制</h2><p>首先在JavaScript中，存在数组和对象的数据结构，ES6又增加了map和Set,这四种数据集合，当然还可以彼此使用，例如数组的成员是Map，Map的成员是对象。<br>iterator是一种接口机制，为各种不同的数据结构提供统一的访问机制。<br>为各种数据结构提供一种统一的，简单的访问接口。使得数据结构的成员能够按某种次序排列，在ES6中创造一种新的遍历方式for…of循环。</p>
<h3 id="10-1-原理："><a href="#10-1-原理：" class="headerlink" title="10.1 原理："></a>10.1 原理：</h3><ul>
<li>创建一个指针对象（遍历器对象），指向数据结构的起始位置。</li>
<li>第一次调用指针对象的next()方法，可以将指针指向数据结构的第一个成员。</li>
<li>第二次调用指针对象的next()方法，指针就指向数据结构的第二个成员。</li>
<li>不断的调用next()方法，直到它指向数据结构的结束位置。</li>
</ul>
<h3 id="10-2-模拟指针对象"><a href="#10-2-模拟指针对象" class="headerlink" title="10.2 模拟指针对象"></a>10.2 模拟指针对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模拟指针对象</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">myIterator</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">let</span> nextIndex = <span class="number">0</span>;<span class="comment">//记录指针的位置</span></span><br><span class="line">     <span class="keyword">return</span>&#123;<span class="comment">//遍历器对象</span></span><br><span class="line">         nxet: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="keyword">return</span> nextIndex &lt; arr.length ? &#123;<span class="attr">vlaue</span>:arr[nextIndex++],<span class="attr">done</span>:<span class="literal">false</span>&#125;:&#123;<span class="attr">value</span>:<span class="literal">undefined</span>,<span class="attr">done</span>:<span class="literal">true</span>&#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//准备一个数据</span></span><br><span class="line">   <span class="keyword">let</span> arr = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">58</span>,<span class="string">'hello world'</span>];</span><br><span class="line">   <span class="keyword">let</span> iterator = myIterator(arr);</span><br><span class="line">   <span class="built_in">console</span>.log(iterator.nxet());</span><br><span class="line">   <span class="built_in">console</span>.log(iterator.nxet());</span><br><span class="line">   <span class="built_in">console</span>.log(iterator.nxet());</span><br><span class="line">   <span class="built_in">console</span>.log(iterator.nxet());</span><br><span class="line">   <span class="built_in">console</span>.log(iterator.nxet());</span><br><span class="line">   <span class="built_in">console</span>.log(iterator.nxet());</span><br></pre></td></tr></table></figure>
<ul>
<li>每一次调用next()方法，都会返回数据结构的当前成员信息，具体来说，就是返回一个包含value和done两个属性的对象，其中，value表示当前成员的值，done属性是一个布尔值，遍历遍历是否结束。</li>
<li>一种数据结构只要部署了Iterator接口，我们就称这种数据结构是‘可遍历的（iterable）’。</li>
<li>ES6规定，默认的Iterator接口部署在数据结构的Symbol.iterator属性，或者说一个数据结构只要只要有symbol.iterator属性，就可以认为是‘可遍历的’。</li>
<li>symbol.iterator属性本身是一个函数，就是当前数据结构默认的遍历器生成函数，执行这个函数，就会返回一个遍历器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;</span><br><span class="line">      [<span class="built_in">Symbol</span>.iterator] : <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> &#123;</span><br><span class="line">              next: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                  <span class="keyword">return</span> &#123;</span><br><span class="line">                      value: <span class="number">1</span>,</span><br><span class="line">                      done: <span class="literal">true</span></span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>上述代码中，对象obj是可以遍历的，因为它具有Symbol.iterator属性，执行这个属性，就会返回一个遍历对象，该对象的根本特征就具有next方法，每一次调用next方法，都会返回一个代表当前成员的信息对象，具有value和done两个属性。</li>
<li><p>在ES6的有些数据结构原声就具备了Iterator接口（比如数组），即不用做任何的处理，就可以被for…of循环遍历，原因就在于这些数据结构原生就已经部署了Symbol.iterator属性，另外一些数据结构（比如对象）就没有部署Symbol.iterator属性，原生具备Iterator接口的数据结构如下：</p>
<ul>
<li>Array</li>
<li>Map</li>
<li>Set</li>
<li>String</li>
<li>TypedArray</li>
<li>函数的arguments对象</li>
<li>NodeLise对象</li>
</ul>
</li>
</ul>
<h3 id="10-3-可以使用for…of的例子"><a href="#10-3-可以使用for…of的例子" class="headerlink" title="10.3 可以使用for…of的例子"></a>10.3 可以使用for…of的例子</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// for...of的使用-数组</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">5</span>,<span class="number">8</span>,<span class="number">98</span>,<span class="string">'Hello word'</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr1)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// for...of的使用-字符串</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'Hello word'</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> str)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// for...of的使用-arguments</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> <span class="built_in">arguments</span>)&#123;<span class="comment">//arguments是一个伪数组，不能使用foreach遍历。</span></span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="string">'Hello word'</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：使用三点运算符，解构赋值，默认会调用Iterator接口。</p>
</blockquote>
<h2 id="11-Generator函数"><a href="#11-Generator函数" class="headerlink" title="11. Generator函数"></a>11. Generator函数</h2><ul>
<li>Generator函数是ES6提供的一种异步编程解决方案，语法行为与传统函数完全不一样。</li>
<li>Generator函数可以理解为一个状态机，封装了多个内部状态。</li>
<li>执行Generator函数会返回一个遍历器对象，也就是说，Generator函数除了一个状态机，还是一个遍历器生成函数。返回的遍历器对象可以一次遍历Generator函数内部的每一个状态。</li>
<li>形式上，Generator函数就是一个普通的函数，有两个特征，其一是：function关键字与函数名之间有一个星号，其二是：函数体内部使用yield表达式，定义不同的内部状态。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">myGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'b'</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'c'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'ending'</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">let</span> gen = myGenerator();</span><br></pre></td></tr></table></figure>
<p>上述代码就定义了一个Generator函数myGenerator，在他的内部就有三个yield表达式，即函数就存在三个状态，但是，当我门调用函数的时候，函数并不会执行，返回的也不是函数的运行结果，而是一个指向内部状态的指针对象，也叫遍历器对象（iterator object）。<br>下一步就是调用遍历器的next方法，是的指针下移一个状态，也就是说，每一次的调用next方法，就遍历一个状态，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span>* <span class="title">myGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'b'</span>;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'c'</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'ending'</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> gen = myGenerator();</span><br><span class="line">    <span class="built_in">console</span>.log(gen.next());<span class="comment">// &#123;value: "a", done: false&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(gen.next());<span class="comment">// &#123;value: "b", done: false&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(gen.next());<span class="comment">// &#123;value: "c", done: false&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(gen.next());<span class="comment">// &#123;value: "ending", done: true&#125;</span></span><br><span class="line">	<span class="built_in">console</span>.log(gen.next());<span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="11-1-总结："><a href="#11-1-总结：" class="headerlink" title="11.1 总结："></a>11.1 总结：</h3><p>调用Generator函数返回遍历器对象，代表Generator函数的内部指针，以后每次调用遍历器对象的next方法，就会返回一个有着value和done属性的对象。value属性表示当前的内部状态值，是yield表达式后面的那个表达式的值。done属性是一个布尔值，表示是否遍历结束。</p>
<h2 id="11-2-yield表达式"><a href="#11-2-yield表达式" class="headerlink" title="11.2 yield表达式"></a>11.2 yield表达式</h2><p>由于Generator函数返回的是一个遍历器对象，只有调用next方法才会遍历下一个内部状态，所以它其实提供的就是一种可以暂停执行的函数，yield表达式就是暂停的标志。<br>遍历器对象的next方法的运行逻辑如下：</p>
<ul>
<li>遇到yield表达式，就暂停执行后面的操作，并将紧跟在后面yield后面的那个表达式的值，作为返回对象的value的属性值。</li>
<li>下一次调用next的方法时，再继续往下执行，直到遇到一个yield表达式。</li>
<li>如果没有遇到新的yield表达式，就一直运行到函数结束，直到return语句为止，并将return语句后面的表达式的值，作为返回对象的value的属性值。</li>
<li>如果该函数没有return语句，则返回的对象的value属性值为undefined。</li>
</ul>
<blockquote>
<p>需要注意的是：yield表达式后面的表达式，只有当调用next方法，内部指针指向该语句才会执行。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">myGenerator1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">5</span>+<span class="number">5</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">5</span>*<span class="number">5</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>*<span class="number">5</span>+<span class="number">5</span>*<span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> gen1 = myGenerator1();</span><br><span class="line"><span class="built_in">console</span>.log(gen1.next());</span><br><span class="line"><span class="built_in">console</span>.log(gen1.next());</span><br><span class="line"><span class="built_in">console</span>.log(gen1.next());</span><br><span class="line"><span class="built_in">console</span>.log(gen1.next());</span><br></pre></td></tr></table></figure>
<p>如果Generator函数不使用yield表达式，就变成了一个单纯的暂缓执行函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我被执行了！！"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> gen3 = test()</span><br><span class="line">gen3.next();</span><br></pre></td></tr></table></figure>
<p>上述代码中test函数就是一个普通的函数，但它是一个Generator函数，就变成了只有调用next方法，才会执行text函数。</p>
<blockquote>
<p>yield表达式只有在Generator函数中使用，其他地方使用就会报错。如果，yield表达式使用在另一个表达式中，就必须放在圆括号里面，如下所示</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'hello==&gt;'</span>+(<span class="keyword">yield</span>));</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'hello=&gt;='</span>+(<span class="keyword">yield</span> <span class="number">123</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> gendemo = demo();</span><br><span class="line"><span class="built_in">console</span>.log(gendemo.next());</span><br><span class="line"><span class="built_in">console</span>.log(gendemo.next());</span><br><span class="line"><span class="built_in">console</span>.log(gendemo.next());</span><br></pre></td></tr></table></figure>
<h3 id="11-3-next方法的参数"><a href="#11-3-next方法的参数" class="headerlink" title="11.3 next方法的参数"></a>11.3 next方法的参数</h3><p>yield表达式本身没有返回值，或者说总是返回undefined，next方法可以带一个参数，该参数就会被当成上一个yield表达式的返回值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> y = <span class="number">2</span>* (<span class="keyword">yield</span> (x+<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">let</span> z = <span class="keyword">yield</span> (y / <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> (x + y + z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = foo(<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'输入结果为1：'</span>,g.next());<span class="comment">// 输入结果为： &#123;value: 6, done: false&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'输入结果为2：'</span>,g.next(<span class="number">12</span>));<span class="comment">// 输入结果为： &#123;value: 8, done: false&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'输入结果为3：'</span>,g.next(<span class="number">13</span>));<span class="comment">// 输入结果为： &#123;value: 42, done: true&#125;</span></span><br></pre></td></tr></table></figure>
<p>上述代码中，第一次调用next方法，返回x+1的值6，第二次调用调用next方法，next方法中传入参数为12，就说上一次yield表达式的值为12，因此y等于24，返回的是y / 3的值8，第三次调用next方法，传入参数13，因此 z 等于13，这个时候x等于5，y等于24，z等于13，返回42。</p>
<h3 id="11-4-for-of遍历Generator函数"><a href="#11-4-for-of遍历Generator函数" class="headerlink" title="11.4 for of遍历Generator函数"></a>11.4 for of遍历Generator函数</h3><p>下面是一个利用 Generator 函数和for…of循环，实现斐波那契数列的例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fibonacci</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">let</span> [prev,curr] = [<span class="number">0</span>,<span class="number">1</span>];</span><br><span class="line">       <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">           [prev,curr] = [curr,prev+curr];</span><br><span class="line">           <span class="keyword">yield</span>  curr;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> fibonacci())&#123;</span><br><span class="line">       <span class="keyword">if</span>(n &gt; <span class="number">1000</span>) <span class="keyword">break</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(n);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="11-5-Generator函数的小练习"><a href="#11-5-Generator函数的小练习" class="headerlink" title="11.5 Generator函数的小练习"></a>11.5 Generator函数的小练习</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求就是先一部发送发送1号请求，根据1号请求返回的数据中的comurl值作为2号请求的url</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDept</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    $.<span class="keyword">get</span>(url,function(data)&#123;</span><br><span class="line">        <span class="keyword">let</span> url = <span class="string">"http://localhost:3000"</span>+data.comurl;</span><br><span class="line">        sx.next(url);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> url =  <span class="keyword">yield</span> getDept(<span class="string">'http://localhost:3300/dept?id=3'</span>);</span><br><span class="line">    <span class="keyword">yield</span> getDept(url)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sx = show();</span><br><span class="line">sx.next();<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>分析：执行到1语句的时候，就会调用show方法中的第一个yield，然后执行getDept方法，在将返回的url做为next的参数，在调用show方法中的第二个yield，再执行getDept方法，发送第二次请求。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需求就是先一部发送发送1号请求，根据1号请求返回的数据中的comurl值作为2号请求的url</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDept</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    $.<span class="keyword">get</span>(url,function(data)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data);<span class="comment">// 请求后返回的数据</span></span><br><span class="line">        <span class="keyword">let</span> url = <span class="string">"http://localhost:3000"</span>+data.comurl;</span><br><span class="line">        sx.next(url);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> url =  <span class="keyword">yield</span> getDept(<span class="string">'http://localhost:3300/dept?id=3'</span>);</span><br><span class="line">    <span class="keyword">yield</span> getDept(url)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sx = show();</span><br><span class="line">sx.next();</span><br></pre></td></tr></table></figure>
<h3 id="11-6-遍历对象调用return方法，"><a href="#11-6-遍历对象调用return方法，" class="headerlink" title="11.6 遍历对象调用return方法，"></a>11.6 遍历对象调用return方法，</h3><p>遍历对象调用return方法后，返回的值的value就是return方法的参数值，并且 Generator函数的遍历就终止了，返回的done的值为true。以后调用next方法，done的属性值就一直是true，例如</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">hello</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'1'</span></span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'2'</span></span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'3'</span></span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'4'</span></span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'5'</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">let</span> bubu = hello();</span><br><span class="line">   <span class="built_in">console</span>.log(bubu.next()) ;<span class="comment">//&#123;value: "1", done: false&#125;</span></span><br><span class="line">   <span class="built_in">console</span>.log(bubu.next()) ; <span class="comment">// &#123;value: "2", done: false&#125;</span></span><br><span class="line">   <span class="built_in">console</span>.log(bubu.return(<span class="string">"Hello word！！"</span>));<span class="comment">// &#123;value: "Hello word！！", done: true&#125;</span></span><br><span class="line">   <span class="built_in">console</span>.log(bubu.next()) ;<span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>
<p>如果return方法调用时，不提供参数，则返回值的value属性为undefined。</p>
<h3 id="11-7-yield-表达式"><a href="#11-7-yield-表达式" class="headerlink" title="11.7 yield*表达式"></a>11.7 yield*表达式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'a'</span></span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'b'</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span>* <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'x'</span></span><br><span class="line">       foo();</span><br><span class="line">       <span class="keyword">yield</span> <span class="string">'y'</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> bar())&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(v);<span class="comment">// x y</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>上述代码存在Generator函数中调用Generator函数，总输出结果我们可以看出是不会有效果的，这个时候就需要使用yield*表达式，如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'a'</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'b'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'x'</span></span><br><span class="line">    <span class="keyword">yield</span>* foo();</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'y'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'x'</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'a'</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'b'</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'y'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">'x'</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> foo())&#123;</span><br><span class="line">        <span class="keyword">yield</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">yield</span> y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> bar())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-class的基本语法"><a href="#12-class的基本语法" class="headerlink" title="12. class的基本语法"></a>12. class的基本语法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">        <span class="keyword">constructor</span>(x,y)&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">        &#125;</span><br><span class="line">        toString()&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'===&gt;('</span>+<span class="keyword">this</span>.x+<span class="string">','</span>+<span class="keyword">this</span>.y+<span class="string">')'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        show()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"我是show方法，"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> point = <span class="keyword">new</span> Point(<span class="number">5</span>,<span class="number">8</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(point);</span><br><span class="line">    point.show();<span class="comment">//与下面的调用方法一样</span></span><br><span class="line">    Point.prototype.show();<span class="comment">//调用原型上的方法，使用类名</span></span><br></pre></td></tr></table></figure>
<ul>
<li>上述代码中，定义了一个类，可以看到里面有一个构造方法，其中this关键字就表示实例对象，除了一个构造方法外，还有一个toString方法，注意，定义‘类’的方法的时候，不需要加上function关键字，直接将函数定义放进去就可以，另外，方法之间也不需要逗号隔开。使用的时候，采用new命令。和构造函数的用法一样。</li>
<li>由于类的方法都是定义在原型prototype对象上，所以类的新方法可以添加在prototype对象上面，Object.assign方法可以很方便的一次向类中添加多个方法。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point1</span></span>&#123;</span><br><span class="line">        <span class="keyword">constructor</span>(x,y,z)&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">            <span class="keyword">this</span>.z = z;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Object</span>.assign(Point1.prototype,&#123;</span><br><span class="line">        toString()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'我是x坐标==&gt;'</span>,<span class="keyword">this</span>.x);</span><br><span class="line">        &#125;,</span><br><span class="line">        toValue()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'我是y坐标==&gt;'</span>,<span class="keyword">this</span>.y);</span><br><span class="line">        &#125;,</span><br><span class="line">        toShow()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'我是z坐标==&gt;'</span>,<span class="keyword">this</span>.z);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> po = <span class="keyword">new</span> Point1(<span class="number">5</span>,<span class="number">8</span>,<span class="number">7</span>);</span><br><span class="line">    po.toString();</span><br><span class="line">    po.toValue();</span><br><span class="line">    po.toShow();</span><br></pre></td></tr></table></figure>
<p>在ES6的严格模式下：constructor方法是类的默认方法，通过new命令生成对象实例，自动调用该方法，一个类就必须有constructor方法，如果没有显示定义，一个空的constructor方法就会被默认添加。类必须通过new调用。否则就会报错。</p>
<h3 id="12-1-class表达式"><a href="#12-1-class表达式" class="headerlink" title="12.1 class表达式"></a>12.1 class表达式</h3><p>与函数一样，类可以使用表达式的形式定义</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MyClass = <span class="class"><span class="keyword">class</span> <span class="title">Me</span></span>&#123;</span><br><span class="line">       <span class="keyword">constructor</span>()&#123;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       getClassName()&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(Me.name)</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">new</span> MyClass().getClassName();</span><br></pre></td></tr></table></figure>
<p>上述代码就是使用表达式定义了一个类，需要注意的是，这个类的名字是MyClass,而不是Me,Me只在class内部代码可用，指向当前类。</p>
<h3 id="12-2-this指向"><a href="#12-2-this指向" class="headerlink" title="12.2 this指向"></a>12.2 this指向</h3><p>类的方法内部如果含有this，它默认指向类的实例，但是，一旦单独使用，就很可能会报错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    printName(name = <span class="string">'three'</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.print(<span class="string">`hello <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    print (text)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span>  logger = <span class="keyword">new</span> Logger();</span><br><span class="line"><span class="keyword">const</span> &#123;printName&#125; = logger;</span><br><span class="line">printName();</span><br></pre></td></tr></table></figure>
<p>上述代码中，printName方法中的this,默认指向的是Logger类的实例，但是，如果将这个方法提取出来再外部使用的话，this就会指向该方法运行时所在的环境，因为找不到print方法而导致报错。</p>
<p><code>解决办法之一：构造方法中绑定this</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">this</span>.printName = <span class="keyword">this</span>.printName.bind(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    printName(name = <span class="string">'three'</span>)&#123;</span><br><span class="line">        <span class="keyword">this</span>.print(<span class="string">`hello <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    print (text)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span>  logger = <span class="keyword">new</span> Logger();</span><br><span class="line"><span class="keyword">const</span> &#123;printName&#125; = logger;</span><br><span class="line">printName();</span><br></pre></td></tr></table></figure>
<p><code>解决办法之二:使用箭头函数</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">this</span>.printName = <span class="function">(<span class="params">name=<span class="string">'three'</span></span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.print(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    print (text)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span>  logger = <span class="keyword">new</span> Logger();</span><br><span class="line"><span class="keyword">const</span> &#123;printName&#125; = logger;</span><br><span class="line">printName();</span><br></pre></td></tr></table></figure>
<h3 id="12-3-name属性"><a href="#12-3-name属性" class="headerlink" title="12.3 name属性"></a>12.3 name属性</h3><p>每一个类都具有name属性，name属性总是返回紧跟在class关键字后面的类名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Beauty</span></span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Beauty.name);</span><br></pre></td></tr></table></figure>
<h3 id="12-4-Class的静态方法"><a href="#12-4-Class的静态方法" class="headerlink" title="12.4 Class的静态方法"></a>12.4 Class的静态方法</h3><p>在一个类中定义的方法前，加上static关键字，就表示该方法不会被实例继承，而是直接通过类来直接调用，这个方法就叫静态方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> getName()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Hello world'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dtr = Foo.getName();</span><br><span class="line"><span class="built_in">console</span>.log(dtr)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果静态方法包含this关键字，这个this指向的是类，而不是类的实例。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Foo</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> getName()&#123;</span><br><span class="line">        <span class="keyword">let</span> age = <span class="keyword">this</span>.getAge();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Hello World,你的年龄是：<span class="subst">$&#123;age&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> getAge()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">15</span>;</span><br><span class="line">    &#125;</span><br><span class="line">     getAge()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">155</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dtr = Foo.getName();</span><br><span class="line"><span class="built_in">console</span>.log(dtr)<span class="comment">// Hello World,你的年龄是：15</span></span><br></pre></td></tr></table></figure>
<ul>
<li>从上述代码可以看出。静态方法getName中调用了this.getAge(),这里的this指的是Foo类，而不是Foo的实例。等同于调用了Foo.getAge(),</li>
<li>还可以看出静态方法和非静态方法可以重名。</li>
<li>父类的静态方法，可以被子类继承。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sun</span> <span class="keyword">extends</span> <span class="title">Foo</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> sunstr = Sun.getName();</span><br><span class="line"><span class="built_in">console</span>.log(sunstr);<span class="comment">// Hello World,你的年龄是：15</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>静态方法也是可以从supper对象上调用的。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Fa</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> printStr()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Hello'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span>  <span class="title">Fa</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> print()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="keyword">super</span>.printStr()&#125;</span>,world`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Son.print());<span class="comment">// Hello,world</span></span><br></pre></td></tr></table></figure>
<h2 id="13-class的继承"><a href="#13-class的继承" class="headerlink" title="13. class的继承"></a>13. class的继承</h2><h3 id="13-1-简介"><a href="#13-1-简介" class="headerlink" title="13.1 简介"></a>13.1 简介</h3><p><code>class可以通过extends关键字实现继承。</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(x,y,color)&#123;</span><br><span class="line">        <span class="keyword">super</span>(x,y);</span><br><span class="line">        <span class="keyword">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line">    toString()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.color&#125;</span>:<span class="subst">$&#123;<span class="keyword">super</span>.toString()&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cp = <span class="keyword">new</span> ColorPoint(<span class="number">4</span>,<span class="number">5</span>,<span class="number">85</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意的是：子类必须再constructor方法中调用super方法，否则砸新建实例的时候就会报错，这是因为子类没有自己的this对象，而是继承父类的this对象，如果不调用super方法，子类就得不到this对象。</p>
</blockquote>
<h3 id="13-2-Object-getPrototypeOf"><a href="#13-2-Object-getPrototypeOf" class="headerlink" title="13.2 Object.getPrototypeOf()"></a>13.2 Object.getPrototypeOf()</h3><p>Object.getPrototypeOf方法可以用来从子类上来获取父类，由此判定一个类是否继承了另一个类。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isExtends = <span class="built_in">Object</span>.getPrototypeOf(ColorPoint);</span><br><span class="line"><span class="built_in">console</span>.log(isExtends);</span><br></pre></td></tr></table></figure>
<h2 id="14-Set和Map数组"><a href="#14-Set和Map数组" class="headerlink" title="14. Set和Map数组"></a>14. Set和Map数组</h2><h3 id="14-1-Set"><a href="#14-1-Set" class="headerlink" title="14.1 Set"></a>14.1 Set</h3><h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><p>ES6几桶了一种新的数据结构Set，他类似数组，但是成员的值都是唯一的，没有重复的值，Set本身是一个构造函数，用来生成Set数据结构。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>].forEach(<span class="function"><span class="params">x</span> =&gt;</span> s.add(x));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> s)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);<span class="comment">// 2 3 4 5 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码就可以看出通过add方法向Set结构中加入成员，结果表明Set结构不会添加重复的值。<br>Set函数可以接受一个数组（或者具有iterable接口的其他数据 结构）作为参数 ，用来初始化</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  <span class="keyword">set</span> = new Set([1,2,3,4,4]);</span><br><span class="line">console.log([...<span class="keyword">set</span>]);// (4) [1, 2, 3, 4]</span><br><span class="line"></span><br><span class="line">const items = new Set([1,2,1,1,5,5,5,5,]);</span><br><span class="line">console.log(items.size);// 3</span><br></pre></td></tr></table></figure>
<p>上述代码也说明了一种去除数组重复成员的方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...new <span class="built_in">Set</span>(array)]</span><br></pre></td></tr></table></figure></p>
<p>向Set加入值的时候，不会发生类型转换，也就是说，a和’a’是两个不同的值。另外，对象总是不相等的，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> objSet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">objSet.add(obj);</span><br><span class="line"><span class="built_in">console</span>.log(objSet.size);<span class="comment">// 1</span></span><br><span class="line">objSet.add(obj);</span><br><span class="line"><span class="built_in">console</span>.log(objSet.size);<span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> objSet1 = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">objSet1.add(&#123;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(objSet1.size)<span class="comment">// 1</span></span><br><span class="line">objSet1.add(&#123;&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(objSet1.size)<span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>上述代码说明两个空对象是不相等的，如果传入同一个new出来的对象实例，那么就会被视为相同。</p>
</blockquote>
<h4 id="Set实例的属性和方法"><a href="#Set实例的属性和方法" class="headerlink" title="Set实例的属性和方法"></a>Set实例的属性和方法</h4><p>Set结构的实例有以下属性</p>
<ul>
<li>Set.prototype.constructor：构造函数，默认就是Set函数。</li>
<li>Set.prototype.size：返回Set的实例的成员总数。</li>
</ul>
<p>Set实例的方法分为操作方法（用于操作数据）和遍历方法（用于遍历成员）</p>
<ul>
<li>add(value)：添加某一个值，返回Set结构本身。</li>
<li>delete(value)：删除某一个值，返回一个布尔值，表示是否删除成功。</li>
<li>has(value)：返回一个布尔值，表示该值是否为Set的成员。</li>
<li>clear()：清除所有成员，没有返回值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setMethod = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">setMethod.add(<span class="number">1</span>).add(<span class="number">2</span>).add(<span class="number">2</span>);<span class="comment">// 2被添加了两次，</span></span><br><span class="line"><span class="built_in">console</span>.log(setMethod.size);<span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(setMethod.has(<span class="number">2</span>));<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(setMethod.delete(<span class="number">2</span>));<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="Array-from方法可以将Set结构转为数组"><a href="#Array-from方法可以将Set结构转为数组" class="headerlink" title="Array.from方法可以将Set结构转为数组"></a>Array.from方法可以将Set结构转为数组</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> itemsSet = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</span><br><span class="line"><span class="keyword">const</span>  arry = <span class="built_in">Array</span>.from(itemsSet);</span><br><span class="line"><span class="built_in">console</span>.log(arry);<span class="comment">// (5) [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h4 id="数组去重的一种方法"><a href="#数组去重的一种方法" class="headerlink" title="数组去重的一种方法"></a>数组去重的一种方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">dedupe</span> (<span class="params">array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(array));</span><br><span class="line">&#125;</span><br><span class="line">dedupe([<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="遍历操作"><a href="#遍历操作" class="headerlink" title="遍历操作"></a>遍历操作</h4><p>Set结构的实例有四个遍历方法，用于遍历成员</p>
<ul>
<li>key()：返回键名的遍历器</li>
<li>values()：返回键值的遍历器</li>
<li>entries()：返回键值对的遍历器</li>
<li>forEach()：使用回调函数遍历每一个成员</li>
</ul>
<blockquote>
<p>说明：Set的遍历顺序就是插入顺序。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setTest = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'张三'</span>,<span class="string">'李思思'</span>,<span class="string">'刘亦菲'</span>]);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> iten <span class="keyword">of</span> setTest.keys())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(iten);<span class="comment">// 张三 李思思 刘亦菲</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> iten <span class="keyword">of</span> setTest.values())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(iten);<span class="comment">// 张三 李思思 刘亦菲</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> iten <span class="keyword">of</span> setTest.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(iten)<span class="comment">// ["张三", "张三"] ["李思思", "李思思"] ["刘亦菲", "刘亦菲"]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由于Set结构没有键名，只有键值（或者说键名和键值是同一个值），所以keys方法和values方法一样。<br>Set结构的实例默认可以遍历，他的默认遍历器函数就是他的values方法，意味着遍历时可以省略values()方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setSim = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> setSim)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h4><p>Set结构和数组一样，也拥有forEach方法，用于对每个成员执行某种操作，没有返回值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setSim.forEach(<span class="function">(<span class="params">value,key</span>)=&gt;</span><span class="built_in">console</span>.log(key,value))</span><br></pre></td></tr></table></figure>
<h4 id="遍历的应用"><a href="#遍历的应用" class="headerlink" title="遍历的应用"></a>遍历的应用</h4><p>扩展运算符（…）内部使用for of 循环，所以也可以用于Set结构</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [...setSim];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<p>扩展运算符和Set结合就可以去除数组中的重复成员</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setArr = [<span class="number">3</span>,<span class="number">54</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">8</span>];</span><br><span class="line"><span class="keyword">let</span> unique = [...new <span class="built_in">Set</span>(setArr)];</span><br><span class="line"><span class="built_in">console</span>.log(unique);<span class="comment">// [3, 54, 1, 5, 4, 8]</span></span><br></pre></td></tr></table></figure>
<p>而且数组的map和filter方法也可以间接用于Set。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setMap = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line">setMap = <span class="keyword">new</span> <span class="built_in">Set</span>([...setMap].map(<span class="function"><span class="params">x</span> =&gt;</span> x*<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(setMap); <span class="comment">// Set(3) &#123;2, 4, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> setFilter = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]);</span><br><span class="line">setFilter = <span class="keyword">new</span> <span class="built_in">Set</span>([...setFilter].filter(<span class="function"><span class="params">x</span> =&gt;</span>(x % <span class="number">2</span>)==<span class="number">0</span>));</span><br><span class="line"><span class="built_in">console</span>.log(setFilter);<span class="comment">// Set(3) &#123;2, 4, 6&#125;</span></span><br></pre></td></tr></table></figure>
<p>因此，可以使用Set可以很容易的实现并集，交集和差集。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]);</span><br><span class="line"><span class="comment">//并集</span></span><br><span class="line"><span class="keyword">let</span> union = <span class="keyword">new</span> <span class="built_in">Set</span>([...a,...b]);</span><br><span class="line"><span class="built_in">console</span>.log(union);<span class="comment">// Set(4) &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="comment">//交集</span></span><br><span class="line"><span class="keyword">let</span> intersect = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span>b.has(x)));</span><br><span class="line"><span class="built_in">console</span>.log(intersect);<span class="comment">// Set(2) &#123;2, 3&#125;</span></span><br><span class="line"><span class="comment">//差集,a对b的差集</span></span><br><span class="line"><span class="keyword">let</span> difference = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> !b.has(x)));</span><br><span class="line"><span class="built_in">console</span>.log(difference);<span class="comment">// Set(1) &#123;1&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h4><p>WeakSet结构与Set类似，也是不重复的值的集合，但是，它与Set的不同之处在于WeakSet的成员只能是对象，而不能是其他类型的值。</p>
<h3 id="14-2-Map"><a href="#14-2-Map" class="headerlink" title="14.2 Map"></a>14.2 Map</h3><h4 id="含义和基本用法"><a href="#含义和基本用法" class="headerlink" title="含义和基本用法"></a>含义和基本用法</h4><p>JavaScript的对象（Object），本质上市键值对的集合（Hash结构），但是传统上只能用于字符串当键，这给他的使用带来限制。因此在ES6中，提出了Map的数据结构，他类似对象。也是键值对的集合。但是，键的范围不限制与字符串，各种类型的值（包括对象）都可以当做键，也就是说，Object结构提供了‘字符串-值’的对应，Map提供了‘值-值’的对应。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">word</span>:<span class="string">'Hello word'</span>&#125;;</span><br><span class="line">m.set(obj,<span class="string">'content'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(m.get(obj));<span class="comment">// content</span></span><br><span class="line"><span class="built_in">console</span>.log(m.has(obj));<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(m.delete(obj));<span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>上述代码使用了Map结构的set方法，将对象obj作为m的一个键，然后使用get方法读取obj键的值，使用has方法判断是否灿在obj这个键，使用delete删除obj这个键。展示了如何向一个Map中添加成员，作为构造函数，Map也接受一个数组作为参数，该数组的成员是一个表示键值对的数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">        [<span class="string">'name'</span>,<span class="string">'zhangsan'</span>],</span><br><span class="line">        [<span class="string">'title'</span>,<span class="string">'Author'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log(map.size);<span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(map.has(<span class="string">'name'</span>));<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="string">'name'</span>));<span class="comment">// zhangsan</span></span><br><span class="line"><span class="built_in">console</span>.log(map.has(<span class="string">'title'</span>));<span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="string">'title'</span>));<span class="comment">// Author</span></span><br></pre></td></tr></table></figure>
<p>上面代码在新建Map实例时，就指定了两个键name和title。<br>如果对同一个键进行多次赋值，后面的值将会覆盖前面的值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapTest = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">mapTest.set(<span class="number">1</span>,<span class="string">'A'</span>);</span><br><span class="line">mapTest.set(<span class="number">1</span>,<span class="string">'B'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(mapTest.get(<span class="number">1</span>));<span class="comment">// B</span></span><br></pre></td></tr></table></figure>
<p>注意：只有对同一个对象的引用，Map结构才将其视为同一个键。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unmap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">unmap.set([<span class="string">'a'</span>],<span class="number">111</span>);</span><br><span class="line"><span class="built_in">console</span>.log(unmap.get([<span class="string">'a'</span>]));<span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>上述代码的set和get方法，表面是针对同一个键，但实际上是这两个值的内存地址不一样，因此get方法无法取到该键。<br>同理，同样的值的两个实例，在Map结构中被视为两个键。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">const</span> k1 = [<span class="string">'a'</span>];</span><br><span class="line"><span class="keyword">const</span> k2 = [<span class="string">'a'</span>];</span><br><span class="line">map1.set(k1,<span class="number">111</span>);</span><br><span class="line">map1.set(k2,<span class="number">222</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map1.get(k1));<span class="comment">// 111</span></span><br><span class="line"><span class="built_in">console</span>.log(map1.get(k2));<span class="comment">// 222</span></span><br></pre></td></tr></table></figure>
<p>上述代码中变量k1和k2的值是一样的，但是在Map中他们是两个不同的键。由此可知，</p>
<ul>
<li>Map的键实际和内存地址绑定的，只要内存地址不一样，就视为两个键。</li>
<li>如果Map的键是一个简单类型的值（数字，字符串，布尔值），则只要这两个值严格相等，Map将其视为一个键，比如0和-0就是一个键，布尔值true和字符串true就是两个不同的键，</li>
<li>另外，undefined和null也是两个不同的键，</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map2 = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map2.set(<span class="number">-0</span>,<span class="number">123</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map2.get(+<span class="number">0</span>));<span class="comment">// 123</span></span><br><span class="line">map2.set(<span class="literal">true</span>,<span class="number">1</span>);</span><br><span class="line">map2.set(<span class="string">'true'</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map2.get(<span class="literal">true</span>));<span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(map2.get(<span class="string">'true'</span>));<span class="comment">// 2</span></span><br><span class="line">map2.set(<span class="literal">undefined</span>,<span class="number">3</span>);</span><br><span class="line">map2.set(<span class="literal">null</span>,<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map2.get(<span class="literal">undefined</span>));<span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(map2.get(<span class="literal">null</span>));<span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<h4 id="实例的属性和操作方法"><a href="#实例的属性和操作方法" class="headerlink" title="实例的属性和操作方法"></a>实例的属性和操作方法</h4><ul>
<li>size属性：返回map结构的成员总数。</li>
<li>set(key,value)：设置键名和对应的键值，然后返回整个Map结构，如果key已经存在值，则键值将会更新，否则生成新的键。由于set方法返回的是当前map对象，所以可以采用链式写法。</li>
<li>get(key)：读取对应key的值，如果找不到key，就返回undefined。</li>
<li>has(key)：返回一个布尔值，表示某一个键是否存在当前的Map对象中。</li>
<li>delete(key)：删除一个键，返回删除结果，成功返回true，否则，返回false。</li>
<li>clear()：清除所有成员，没有返回值</li>
</ul>
<h4 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h4><p>Map结构原生提供了三个遍历器生成函数和一个遍历方法</p>
<ul>
<li>keys()：返回所有的键名的遍历器。</li>
<li>values()：返回键值的遍历器。</li>
<li>entries()：返回所有成员的遍历器。</li>
<li>forEach()：遍历Map的所有成员</li>
</ul>
<p>需要注意的是：map的遍历顺序就是插入顺序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> map3 = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">        [<span class="string">'F'</span>,<span class="string">'no'</span>],</span><br><span class="line">        [<span class="string">'T'</span>,<span class="string">'yes'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> map3.keys())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);<span class="comment">// F T</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> map3.values())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);<span class="comment">// no yes</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> map3.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x[<span class="number">0</span>],x[<span class="number">1</span>]);<span class="comment">// F no T yes</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span>[key,value] <span class="keyword">of</span>  map3.entries())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key,value);<span class="comment">// F no T yes</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>map结构转为数组结构，比较快速的办法就是使用扩展运算符（…）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map4 = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">        [<span class="number">1</span>,<span class="string">'one'</span>],</span><br><span class="line">        [<span class="number">2</span>,<span class="string">'two'</span>],</span><br><span class="line">        [<span class="number">3</span>,<span class="string">'three'</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log([...map4.keys()]);<span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log([...map4.values()]);<span class="comment">// ["one", "two", "three"]</span></span><br><span class="line"><span class="built_in">console</span>.log([...map4.entries()]);<span class="comment">//  [Array(2), Array(2), Array(2)]</span></span><br><span class="line"><span class="built_in">console</span>.log([...map4]);<span class="comment">//  [Array(2), Array(2), Array(2)]</span></span><br></pre></td></tr></table></figure>
<p>结合数组的map方法，filter方法，可以实现Map的遍历和过滤，（Map本身并没有map和filter方法）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span>  map5 = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map5.set(<span class="number">1</span>,<span class="string">'a'</span>);</span><br><span class="line">map5.set(<span class="number">2</span>,<span class="string">'b'</span>);</span><br><span class="line">map5.set(<span class="number">3</span>,<span class="string">'c'</span>);</span><br><span class="line"><span class="keyword">const</span> mapfilter = <span class="keyword">new</span> <span class="built_in">Map</span>([...map5].filter(<span class="function">(<span class="params">[k,v]</span>) =&gt;</span> k &lt;<span class="number">3</span>));</span><br><span class="line"><span class="built_in">console</span>.log(mapfilter);<span class="comment">// Map(2) &#123;1 =&gt; "a", 2 =&gt; "b"&#125;</span></span><br><span class="line"><span class="keyword">const</span> mapMethod = <span class="keyword">new</span> <span class="built_in">Map</span>(</span><br><span class="line">        [...map5].map(<span class="function">(<span class="params">[k,v]</span>) =&gt;</span> [k*<span class="number">2</span>,<span class="string">`Hello <span class="subst">$&#123;v&#125;</span>`</span>])</span><br><span class="line">)</span><br><span class="line"><span class="built_in">console</span>.log(mapMethod);<span class="comment">// Map(3) &#123;2 =&gt; "Hello a", 4 =&gt; "Hello b", 6 =&gt; "Hello c"&#125;</span></span><br></pre></td></tr></table></figure>
<p>此外，map还有一个forEach方法，与数组类似，实现遍历。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map5.forEach(<span class="function">(<span class="params">v,k,m</span>)=&gt;</span><span class="built_in">console</span>.log(<span class="string">`key:<span class="subst">$&#123;k&#125;</span>,value:<span class="subst">$&#123;v&#125;</span>`</span>));</span><br><span class="line"><span class="comment">// key:1,value:a key:2,value:b key:3,value:c</span></span><br></pre></td></tr></table></figure>
<p>与其他数据结构互相转换</p>
<ul>
<li>Map转数组：使用扩展运算符</li>
<li>数组转Map：将数组传入Map构造函数中，就可以转为Map</li>
<li>Map转对象：如果所有的Map的键都是字符串，他就可以转为对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maptoObject</span>(<span class="params">map</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> [k,v] <span class="keyword">of</span> map)&#123;</span><br><span class="line">        obj[k] = v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">myMap.set(<span class="string">'yes'</span>,<span class="literal">true</span>);</span><br><span class="line">myMap.set(<span class="string">'no'</span>,<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">console</span>.log(maptoObject(myMap));</span><br></pre></td></tr></table></figure>
<ul>
<li><p>对象转Map</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objtoMap</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj))&#123;</span><br><span class="line">          map.set(k,obj[k]);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> map;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> obj1 = &#123;<span class="attr">yes</span>:<span class="literal">true</span>,<span class="attr">no</span>:<span class="literal">false</span>&#125;;</span><br><span class="line">  <span class="built_in">console</span>.log(objtoMap(obj1));<span class="comment">// Map(2) &#123;"yes" =&gt; true, "no" =&gt; false&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Map转为JSON</p>
</li>
</ul>
<p>Map转为JSON要区分两种情况，一种情况是：Map的键名都是字符串，这时可以选择转为对象JSON。先将Map转为对象，在将对象转为JSON</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maptoObject</span>(<span class="params">map</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> [k,v] <span class="keyword">of</span> map)&#123;</span><br><span class="line">        obj[k] = v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maptoJson</span>(<span class="params">map</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(maptoObject(map))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> mapJson = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">'yes'</span>,<span class="literal">true</span>).set(<span class="string">'no'</span>,<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">console</span>.log(maptoJson(mapJson));<span class="comment">// &#123;"yes":true,"no":false&#125;</span></span><br></pre></td></tr></table></figure>
<p>还有一种情况就是：Map的键有非字符串，这时候可以选择转为数组JSON</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">maptoArrJson</span>(<span class="params">map</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify([...map]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arrmap = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="literal">true</span>,<span class="number">7</span>).set(&#123;<span class="attr">foo</span>:<span class="number">2</span>&#125;,<span class="string">'abc'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(maptoArrJson(arrmap));<span class="comment">// [[true,7],[&#123;"foo":2&#125;,"abc"]]</span></span><br></pre></td></tr></table></figure>
<h2 id="15-数组的扩展"><a href="#15-数组的扩展" class="headerlink" title="15 数组的扩展"></a>15 数组的扩展</h2><h3 id="15-1-扩展运算符"><a href="#15-1-扩展运算符" class="headerlink" title="15.1 扩展运算符"></a>15.1 扩展运算符</h3><p>扩展运算符在前面也已经介绍过了，也叫三点运算符，将一个数组转为用逗号分隔的参数序列。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<h4 id="替代函数的apply方法"><a href="#替代函数的apply方法" class="headerlink" title="替代函数的apply方法"></a>替代函数的apply方法</h4><p>由于扩展运算符可以展开数组，所以就不需要apply方法，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x,y,z</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x,y,z);<span class="comment">// 0 1 2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">f.apply(<span class="literal">null</span>,args);</span><br><span class="line"><span class="comment">// ES6的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fes6</span>(<span class="params">x,y,z</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x,y,z);</span><br><span class="line">&#125;</span><br><span class="line">fes6(...args);<span class="comment">// 0 1 2</span></span><br></pre></td></tr></table></figure>
<p>运用扩展运算符实现的一个小例子，求一个数组中最大的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5的写法</span></span><br><span class="line"><span class="keyword">var</span> max1 =  <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,[<span class="number">14</span>,<span class="number">85</span>,<span class="number">95</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(max1);</span><br><span class="line"><span class="comment">//ES6的写法</span></span><br></pre></td></tr></table></figure>
<p>   let max2 = Math.max(…[14,85,95]);<br>    console.log(max2);<br>使用push方法，将一个数组添加到另一个数组的尾部</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr1,arr2);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);<span class="comment">// [0, 1, 2, 3, 4, 5]</span></span><br><span class="line"><span class="comment">//ES6的写法</span></span><br><span class="line"><span class="keyword">let</span> arr3 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> arr4 = [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr3.push(...arr4);</span><br><span class="line"><span class="built_in">console</span>.log(arr3);<span class="comment">// [0, 1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h4 id="扩展运算符的应用"><a href="#扩展运算符的应用" class="headerlink" title="扩展运算符的应用"></a>扩展运算符的应用</h4><h5 id="复制数组"><a href="#复制数组" class="headerlink" title="复制数组"></a>复制数组</h5><p>数组是复合的数据类型，直接复制的话，只是复制了指向底层数据结构的指针，而不是克隆了一个全新的数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1 = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">   <span class="keyword">const</span> a2 = a1;</span><br><span class="line">   a2[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">   <span class="built_in">console</span>.log(a1[<span class="number">0</span>]);<span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p>
<p>上述代码中，a2并不是a1的克隆，而是指向同一份数据的另一个指针，修改a2，回直接导致a1的变化，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a3 = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> a4 = [...a3];</span><br><span class="line"><span class="keyword">const</span> [...a5] = a3;</span><br></pre></td></tr></table></figure>
<p>使用扩展运算符，就可以很方便的实现数组的克隆，这个时候你修改a4或者a5的值，不会影响a3的值。</p>
<h5 id="合并数组"><a href="#合并数组" class="headerlink" title="合并数组"></a>合并数组</h5><p>使用扩展运算符可以很方便的实现数组的合并</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5的写法</span></span><br><span class="line"><span class="keyword">var</span> array1 = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> array2 = [<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line"><span class="keyword">var</span> array3 = [<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.concat(array2));<span class="comment">//  [1, 2, 3, 4]</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.concat(array2,array3));<span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"><span class="comment">//ES6的写法</span></span><br><span class="line"><span class="built_in">console</span>.log([...array1,...array2,...array3]);<span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>
<h5 id="与解构赋值结合"><a href="#与解构赋值结合" class="headerlink" title="与解构赋值结合"></a>与解构赋值结合</h5><p>扩展运算符与解构赋值相结合，可以生成数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first,...end] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(first);<span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(end);<span class="comment">// [2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<p>如果将扩展运算符用于数组赋值，只能放在参数的末尾，否则就会报错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [...test,last] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>
<h5 id="扩展运算符将字符串转为真正的数组"><a href="#扩展运算符将字符串转为真正的数组" class="headerlink" title="扩展运算符将字符串转为真正的数组"></a>扩展运算符将字符串转为真正的数组</h5><pre><code>[...&apos;hello&apos;] 
</code></pre><p>总结：扩展运算符内部调用的是数据结构的Iterator接口，因此只有具有Iterator接口的对象，才能使用扩展运算符，否则就不能使用。</p>
<h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h4><p>Array.from()方法可以将两类对象转为真正的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike = &#123;</span><br><span class="line">    <span class="string">'0'</span>:<span class="string">'A'</span>,</span><br><span class="line">    <span class="string">'1'</span>:<span class="string">'B'</span>,</span><br><span class="line">    <span class="string">'2'</span>:<span class="string">'C'</span>,</span><br><span class="line">    length:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(arrayLike));<span class="comment">// ["A", "B", "C"]</span></span><br></pre></td></tr></table></figure>
<h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h4><p>Array.of方法用于将一组值，转换为数组，是为了弥补Array构造函数的不足</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>());<span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>(<span class="number">3</span>));<span class="comment">// [empty × 3],length:3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>(<span class="number">4</span>,<span class="number">8</span>,<span class="number">5</span>));<span class="comment">// [4, 8, 5]</span></span><br></pre></td></tr></table></figure>
<p>上述代码中Array的参数个数有差异，说明只有参数个数大于1才能生成新的数组，of方法就是解决这个问题的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.of(<span class="number">3</span>));<span class="comment">// [3]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.of(<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>));<span class="comment">//  [3, 5, 8]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.of(<span class="number">8</span>).length);<span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>Array.of()方法基本可以代替Array()或者new Array(),该方法总是返回一个新的数组，如果没有参数就会返回一个空的数组。</p>
<h4 id="数组实例copyWithin"><a href="#数组实例copyWithin" class="headerlink" title="数组实例copyWithin()"></a>数组实例copyWithin()</h4><p>数组实例的copyWithin()方法，在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组，也就是说，使用这个方法，会修改当前数组。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.copyWithin(target,start = <span class="number">0</span>,end = <span class="keyword">this</span>.length)</span><br></pre></td></tr></table></figure>
<p>该方法的参数说明</p>
<ul>
<li>target(必须)：从该位置开始替换数据，如果为负值，表示倒数。</li>
<li>start(可选)：从该位置开始读取数据，默认为0，如果为负值，表示倒数。</li>
<li>end(可选)：到该位置前停止读取数据，默认是数组的长度，如果为负值，表示倒数。</li>
</ul>
<p>这三个参数都应该是数值，如果不是，会自动转为数值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> carr = [<span class="number">4</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">2</span>].copyWithin(<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(carr);<span class="comment">// [7, 9, 2, 7, 9, 2]</span></span><br></pre></td></tr></table></figure>
<p>上述代码表示：从3号为位开始复制，替换0位以后的数据。</p>
<h4 id="数组实例的find-方法和findIndex-方法"><a href="#数组实例的find-方法和findIndex-方法" class="headerlink" title="数组实例的find()方法和findIndex()方法"></a>数组实例的find()方法和findIndex()方法</h4><p>数组实例的find方法用于找到第一个符合条件的数组的成员，它的参数是一个回调函数，所有的数组成员都将依次执行这个函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">8</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">101</span>].find(<span class="function">(<span class="params">n</span>) =&gt;</span> n &gt;<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arrnew = [<span class="number">4</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">85</span>,<span class="number">101</span>].find(<span class="function"><span class="keyword">function</span>(<span class="params">v,i,a</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> v &gt; <span class="number">100</span>;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="数组实例的fill"><a href="#数组实例的fill" class="headerlink" title="数组实例的fill()"></a>数组实例的fill()</h4><p>fill方法使用给定值，填充一个数组。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> farr = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>].fill(<span class="number">7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(farr);<span class="comment">// [7, 7, 7]</span></span><br></pre></td></tr></table></figure></p>
<p>fill方法用于空数组的初始化就很方便，该方法还可以接受第二个和第三个参数，用于指定填充的起始位置和结束位置。</p>
<h4 id="数组实例的include-方法"><a href="#数组实例的include-方法" class="headerlink" title="数组实例的include()方法"></a>数组实例的include()方法</h4><p>该方法返回一个布尔值，表示每一个数组是否包含给定的值，与字符串的include方法类似，该方法的第二个参数表示搜索的起始位置。如果为负数，表示倒数。</p>
<p><code>ES6的相关知识就学习结束了，感谢阮一峰出版的《ECMAScript 6 入门》书籍。值得购买，作为前端人们书籍还是不错的。</code></p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/qrcode_for_gh_dfc33bc3270f_258.jpg" alt="曹辰 wechat" style="width: 200px; max-width: 100%;">
    <div>欢迎关注微信公共号 summerhins <br>不经常抽风性更新 | 挨踢民工 | 爱数码产品 | 爱黑莓 | 爱苹果 | 美剧痴迷者 | 音乐重度爱好者 | 高清下载控 | 不折腾不舒服 | 纠结 | 失眠 | EQ=0</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>真诚赞赏，手留余香</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/微信图片_20190320223941.jpg" alt="曹辰 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/微信图片_20190320224051.jpg" alt="曹辰 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/es6/" rel="tag"><i class="fas fa-tag"></i> es6</a>
          
        </div>
      

      
      
      

      
        <div>
	  <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    曹辰
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://caochenhins.github.io/2019/03/21/前端基础知识学习-前端规范ES6/" title="前端基础知识学习----前端规范ES6">https://caochenhins.github.io/2019/03/21/前端基础知识学习-前端规范ES6/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章均采用 <a href="https://github.com/caochenhins" rel="external nofollow" target="_blank">OPEN</a> 许可协议，转载请注明出处！
  </li>
</ul>

        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/21/前端基础知识学习-Vue核心知识学习总结/" rel="next" title="前端基础知识学习---Vue核心知识学习总结">
                <i class="fas fa-chevron-left"></i> 前端基础知识学习---Vue核心知识学习总结
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/03/21/JavaEE进阶知识学习-MybatisPus核心知识学习总结/" rel="prev" title="JavaEE进阶知识学习-----MybatisPus核心知识学习总结">
                JavaEE进阶知识学习-----MybatisPus核心知识学习总结 <i class="fas fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
	        <img class="site-author-image" itemprop="image" src="/images/getheadimg.png" alt="曹辰">
            
              <p class="site-author-name" itemprop="name">曹辰</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">133</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/caochenhins" target="_blank" title="GitHub">
                      
		      
			<i class="fa-fw fab fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:ipod_nano@qq.com" target="_blank" title="E-Mail">
                      
		      
			<i class="fa-fw fas fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/caochenhins" target="_blank" title="CSDN">
                      
		      
			<i class="fa-fw fab fa-cuttlefish"></i>CSDN</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.cnblogs.com/hins/" target="_blank" title="博客园">
                      
		      
			<i class="fa-fw fas fa-book"></i>博客园</a>
                  </span>
                
            </div>
          

          
          

          
          

          
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ES6相关知识学习"><span class="nav-number">1.</span> <span class="nav-text">ES6相关知识学习</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-let和const关键字"><span class="nav-number">1.1.</span> <span class="nav-text">1. let和const关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-let关键字"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1 let关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-const关键字"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.2 const关键字</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-变量的解构赋值"><span class="nav-number">1.2.</span> <span class="nav-text">2. 变量的解构赋值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-模板字符串"><span class="nav-number">1.3.</span> <span class="nav-text">3. 模板字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-对象的简写方式"><span class="nav-number">1.4.</span> <span class="nav-text">4. 对象的简写方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-箭头函数"><span class="nav-number">1.5.</span> <span class="nav-text">5. 箭头函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-三点运算符"><span class="nav-number">1.6.</span> <span class="nav-text">6. 三点运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-形参默认值"><span class="nav-number">1.7.</span> <span class="nav-text">7. 形参默认值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-promise对象原理"><span class="nav-number">1.8.</span> <span class="nav-text">8. promise对象原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-使用步骤："><span class="nav-number">1.8.1.</span> <span class="nav-text">8.1 使用步骤：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-promise的三种状态"><span class="nav-number">1.8.2.</span> <span class="nav-text">8.2 promise的三种状态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-Symbol属性"><span class="nav-number">1.9.</span> <span class="nav-text">9. Symbol属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-使用场景："><span class="nav-number">1.9.1.</span> <span class="nav-text">9.1 使用场景：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-iterator接口机制"><span class="nav-number">1.10.</span> <span class="nav-text">10. iterator接口机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#10-1-原理："><span class="nav-number">1.10.1.</span> <span class="nav-text">10.1 原理：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-2-模拟指针对象"><span class="nav-number">1.10.2.</span> <span class="nav-text">10.2 模拟指针对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-3-可以使用for…of的例子"><span class="nav-number">1.10.3.</span> <span class="nav-text">10.3 可以使用for…of的例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-Generator函数"><span class="nav-number">1.11.</span> <span class="nav-text">11. Generator函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-1-总结："><span class="nav-number">1.11.1.</span> <span class="nav-text">11.1 总结：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-2-yield表达式"><span class="nav-number">1.12.</span> <span class="nav-text">11.2 yield表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-3-next方法的参数"><span class="nav-number">1.12.1.</span> <span class="nav-text">11.3 next方法的参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-4-for-of遍历Generator函数"><span class="nav-number">1.12.2.</span> <span class="nav-text">11.4 for of遍历Generator函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-5-Generator函数的小练习"><span class="nav-number">1.12.3.</span> <span class="nav-text">11.5 Generator函数的小练习</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-6-遍历对象调用return方法，"><span class="nav-number">1.12.4.</span> <span class="nav-text">11.6 遍历对象调用return方法，</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-7-yield-表达式"><span class="nav-number">1.12.5.</span> <span class="nav-text">11.7 yield*表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-class的基本语法"><span class="nav-number">1.13.</span> <span class="nav-text">12. class的基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#12-1-class表达式"><span class="nav-number">1.13.1.</span> <span class="nav-text">12.1 class表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-2-this指向"><span class="nav-number">1.13.2.</span> <span class="nav-text">12.2 this指向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-3-name属性"><span class="nav-number">1.13.3.</span> <span class="nav-text">12.3 name属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-4-Class的静态方法"><span class="nav-number">1.13.4.</span> <span class="nav-text">12.4 Class的静态方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-class的继承"><span class="nav-number">1.14.</span> <span class="nav-text">13. class的继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-简介"><span class="nav-number">1.14.1.</span> <span class="nav-text">13.1 简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-2-Object-getPrototypeOf"><span class="nav-number">1.14.2.</span> <span class="nav-text">13.2 Object.getPrototypeOf()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-Set和Map数组"><span class="nav-number">1.15.</span> <span class="nav-text">14. Set和Map数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#14-1-Set"><span class="nav-number">1.15.1.</span> <span class="nav-text">14.1 Set</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基本用法"><span class="nav-number">1.15.1.1.</span> <span class="nav-text">基本用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Set实例的属性和方法"><span class="nav-number">1.15.1.2.</span> <span class="nav-text">Set实例的属性和方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Array-from方法可以将Set结构转为数组"><span class="nav-number">1.15.1.3.</span> <span class="nav-text">Array.from方法可以将Set结构转为数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组去重的一种方法"><span class="nav-number">1.15.1.4.</span> <span class="nav-text">数组去重的一种方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#遍历操作"><span class="nav-number">1.15.1.5.</span> <span class="nav-text">遍历操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#forEach"><span class="nav-number">1.15.1.6.</span> <span class="nav-text">forEach()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#遍历的应用"><span class="nav-number">1.15.1.7.</span> <span class="nav-text">遍历的应用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WeakSet"><span class="nav-number">1.15.1.8.</span> <span class="nav-text">WeakSet</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-2-Map"><span class="nav-number">1.15.2.</span> <span class="nav-text">14.2 Map</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#含义和基本用法"><span class="nav-number">1.15.2.1.</span> <span class="nav-text">含义和基本用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#实例的属性和操作方法"><span class="nav-number">1.15.2.2.</span> <span class="nav-text">实例的属性和操作方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#遍历方法"><span class="nav-number">1.15.2.3.</span> <span class="nav-text">遍历方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-数组的扩展"><span class="nav-number">1.16.</span> <span class="nav-text">15 数组的扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#15-1-扩展运算符"><span class="nav-number">1.16.1.</span> <span class="nav-text">15.1 扩展运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#替代函数的apply方法"><span class="nav-number">1.16.1.1.</span> <span class="nav-text">替代函数的apply方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#扩展运算符的应用"><span class="nav-number">1.16.1.2.</span> <span class="nav-text">扩展运算符的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#复制数组"><span class="nav-number">1.16.1.2.1.</span> <span class="nav-text">复制数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#合并数组"><span class="nav-number">1.16.1.2.2.</span> <span class="nav-text">合并数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#与解构赋值结合"><span class="nav-number">1.16.1.2.3.</span> <span class="nav-text">与解构赋值结合</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#扩展运算符将字符串转为真正的数组"><span class="nav-number">1.16.1.2.4.</span> <span class="nav-text">扩展运算符将字符串转为真正的数组</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Array-from"><span class="nav-number">1.16.1.3.</span> <span class="nav-text">Array.from()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Array-of"><span class="nav-number">1.16.1.4.</span> <span class="nav-text">Array.of()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组实例copyWithin"><span class="nav-number">1.16.1.5.</span> <span class="nav-text">数组实例copyWithin()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组实例的find-方法和findIndex-方法"><span class="nav-number">1.16.1.6.</span> <span class="nav-text">数组实例的find()方法和findIndex()方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组实例的fill"><span class="nav-number">1.16.1.7.</span> <span class="nav-text">数组实例的fill()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组实例的include-方法"><span class="nav-number">1.16.1.8.</span> <span class="nav-text">数组实例的include()方法</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fas fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">曹辰</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fas fa-chart-area"></i>
    </span>
    
      <span class="post-meta-item-text">全站共计字数&#58;</span>
    
    <span title="全站共计字数">321.3k</span>
  
</div>







<!--
  <div class="footer-custom">Hosted by <a href="https://pages.coding.me" style="font-weight:bold">Coding Pages</a> & <a target="_blank" href="https://pages.github.com" style="font-weight:bold">GitHub Pages</a></div>
-->

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fas fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fas fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fas fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    <div class="sidebar_wo">
      <div id="leimu">
        <img src="/images/b2t/leimuA.png" alt="雷姆" onmouseover="this.src='/images/b2t/leimuB.png'" onmouseout="this.src='/images/b2t/leimuA.png'" title="回到顶部">
      </div>
      <div class="sidebar_wo" id="lamu">
        <img src="/images/b2t/lamuA.png" alt="雷姆" onmouseover="this.src='/images/b2t/lamuB.png'" onmouseout="this.src='/images/b2t/lamuA.png'" title="回到底部">
      </div>
    </div>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>




















  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fas fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="far fa-frown fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.4"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.4"></script>


  


  
<!-- 图片轮播js文件cdn -->
<script src="https://cdn.bootcss.com/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>

<!-- 剪贴板js文件 -->
<script type="text/javascript" src="/lib/zclip/clipboard.min.js"></script>

<script>

<!-- 头像挂件及自动刷新 -->


</script>

<!-- 自定义的js文件 -->
<script type="text/javascript" src="/js/src/custom.js"></script>
</body>
</html>
